(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6399:function(e,s,t){Promise.resolve().then(t.bind(t,5873))},5873:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return e7}});var a=t(7437),r=t(2265),l=t(429),i=t(4972),n=t(2023),o=t(1769),d=t(5900),c=t(7053),u=t(535),m=t(1994),x=t(3335);function h(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,x.m6)((0,m.W)(s))}let p=(0,u.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function g(e){let{className:s,variant:t,size:r,asChild:l=!1,...i}=e,n=l?c.g7:"button";return(0,a.jsx)(n,{"data-slot":"button",className:h(p({variant:t,size:r,className:s})),...i})}function f(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card",className:h("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",s),...t})}function b(e){let{className:s,type:t,...r}=e;return(0,a.jsx)("input",{type:t,"data-slot":"input",className:h("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...r})}var j=t(6394);function v(e){let{className:s,...t}=e;return(0,a.jsx)(j.f,{"data-slot":"label",className:h("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...t})}var y=t(1715),N=t(875),w=t(401),C=t(2135);function k(e){let{...s}=e;return(0,a.jsx)(y.fC,{"data-slot":"select",...s})}function S(e){let{...s}=e;return(0,a.jsx)(y.B4,{"data-slot":"select-value",...s})}function _(e){let{className:s,size:t="default",children:r,...l}=e;return(0,a.jsxs)(y.xz,{"data-slot":"select-trigger","data-size":t,className:h("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...l,children:[r,(0,a.jsx)(y.JO,{asChild:!0,children:(0,a.jsx)(N.Z,{className:"size-4 opacity-50"})})]})}function I(e){let{className:s,children:t,position:r="popper",...l}=e;return(0,a.jsx)(y.h_,{children:(0,a.jsxs)(y.VY,{"data-slot":"select-content",className:h("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...l,children:[(0,a.jsx)(D,{}),(0,a.jsx)(y.l_,{className:h("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,a.jsx)(z,{})]})})}function E(e){let{className:s,children:t,...r}=e;return(0,a.jsxs)(y.ck,{"data-slot":"select-item",className:h("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...r,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(y.wU,{children:(0,a.jsx)(w.Z,{className:"size-4"})})}),(0,a.jsx)(y.eT,{children:t})]})}function D(e){let{className:s,...t}=e;return(0,a.jsx)(y.u_,{"data-slot":"select-scroll-up-button",className:h("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(C.Z,{className:"size-4"})})}function z(e){let{className:s,...t}=e;return(0,a.jsx)(y.$G,{"data-slot":"select-scroll-down-button",className:h("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(N.Z,{className:"size-4"})})}function P(e){if(!e||!e.startsWith("gs://"))return e;let s=e.split("/")[2],t=e.split("/").slice(3).join("/");return"https://storage.googleapis.com/".concat(s,"/").concat(t)}let A=(0,t(1545).eI)("https://mfsqsosjolautnqjkhhb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1mc3Fzb3Nqb2xhdXRucWpraGhiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE0ODk1ODYsImV4cCI6MjA3NzA2NTU4Nn0.MkJ-NgKUyMbIMTc9t8e476wEBmRg9BXJvUBqck9Hj8E");async function Z(){let{data:e,error:s}=await A.from("institutes").select("*").order("name");if(s)throw s;return e||[]}async function F(){let{data:e,error:s}=await A.from("courses").select("*").order("code");if(s)throw s;return e||[]}async function q(e){let{data:s,error:t}=await A.from("courses").insert({id:e.id,code:e.code,name:e.name,professor:e.professor}).select().single();if(t)throw t;return{id:s.id,code:s.code,name:s.name,professor:s.professor}}async function L(e){let{data:s,error:t}=await A.from("lectures").select("*").eq("course_id",e).order("number");if(t)throw t;return(null==s?void 0:s.map(e=>({id:e.id,number:e.number,date:e.date,topic:e.topic,courseId:e.course_id})))||[]}async function U(e){let s="".concat(e.courseId,"-l").concat(e.number),{data:t,error:a}=await A.from("lectures").insert({id:s,topic:e.topic,date:e.date,number:e.number,course_id:e.courseId}).select().single();if(a)throw a;return{id:t.id,number:t.number,date:t.date,topic:t.topic,courseId:t.course_id}}async function T(e){let{data:s,error:t}=await A.from("lecture_content").select("*").eq("lecture_id",e).single();if(t){if("PGRST116"===t.code)return null;throw t}return s.recording_url&&(s.recording_url=P(s.recording_url)),s.content_data&&Array.isArray(s.content_data)&&s.content_data.forEach(e=>{e.animations&&Array.isArray(e.animations)&&e.animations.forEach(e=>{e.video&&(e.video=P(e.video))})}),{id:s.id,lecture_id:s.lecture_id,topic:s.topic,definition:s.definition,recording_url:s.recording_url,book_reference:s.book_reference,content_data:s.content_data,created_at:s.created_at,updated_at:s.updated_at}}async function M(){let{data:e,error:s}=await A.from("doubts").select("*").order("created_at",{ascending:!1});if(s)throw s;return(null==e?void 0:e.map(e=>({id:e.id,courseId:e.course_id,studentName:e.student_name,question:e.question,date:e.date,reply:e.reply})))||[]}async function G(){let{data:e,error:s}=await A.from("doubts").select("*").order("date",{ascending:!1});if(s)throw s;return e||[]}async function R(e){let{data:s,error:t}=await A.from("lectures_processing").select("*").eq("lecture_id",e).single();if(t){if("PGRST116"===t.code)return null;throw t}return s?{id:s.id,lectureId:s.lecture_id,status:s.status,audioFile:s.audio_file,videoFile:s.video_file,createdAt:s.created_at,updatedAt:s.updated_at}:null}async function B(e){let s="proc_".concat(Date.now()),{data:t,error:a}=await A.from("lectures_processing").insert({id:s,lecture_id:e.lectureId,status:"uploading",audio_file:e.audioFile,video_file:e.videoFile}).select().single();if(a)throw a;return{id:t.id,lectureId:t.lecture_id,status:t.status,audioFile:t.audio_file,videoFile:t.video_file,createdAt:t.created_at,updatedAt:t.updated_at}}async function O(e,s){let{error:t}=await A.from("lectures_processing").update({status:s}).eq("id",e);if(t)throw t}async function V(e){let{data:s,error:t}=await A.from("slides").select("*").eq("lecture_id",e).order("upload_date",{ascending:!1});if(t)throw t;return(null==s?void 0:s.map(e=>({id:e.id,lectureId:e.lecture_id,fileName:e.file_name,filePath:e.file_path,uploadDate:e.upload_date})))||[]}async function Y(e){let s="slide_".concat(Date.now()),{data:t,error:a}=await A.from("slides").insert({id:s,lecture_id:e.lectureId,file_name:e.fileName,file_path:e.filePath}).select().single();if(a)throw a;return{id:t.id,lectureId:t.lecture_id,fileName:t.file_name,filePath:t.file_path,uploadDate:t.upload_date}}async function H(e,s){let{error:t}=await A.from("doubts").update({reply:s,updated_at:new Date().toISOString()}).eq("id",e);if(t)throw t}async function J(e){let s="doubt-".concat(Date.now()),{data:t,error:a}=await A.from("doubts").insert({id:s,course_id:e.courseId,student_name:e.studentName,question:e.question,date:e.date}).select().single();if(a)throw a;return{id:t.id,courseId:t.course_id,studentName:t.student_name,question:t.question,date:t.date,reply:t.reply}}function Q(e){let{onLogin:s}=e,[t,c]=(0,r.useState)([]),[u,m]=(0,r.useState)(null),[x,h]=(0,r.useState)(""),[p,j]=(0,r.useState)(""),[y,N]=(0,r.useState)(""),[w,C]=(0,r.useState)(""),[D,z]=(0,r.useState)(""),[P,A]=(0,r.useState)(!1);(0,r.useEffect)(()=>{!async function(){try{let e=await Z();c(e)}catch(e){console.error("Error loading institutes:",e)}}()},[]);let F=P?t:t.slice(0,6);return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-4",children:[(0,a.jsx)(i.Z,{className:"w-12 h-12 text-blue-600"}),(0,a.jsx)("h1",{className:"text-5xl",children:"Smart Scribes"})]}),(0,a.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"AI-Powered Classroom Assistant - Transforming Live Lectures into Rich Multimedia Notes"})]}),(0,a.jsx)(l.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.2},className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-12",children:[{icon:n.Z,text:"Multimodal AI Processing",color:"text-purple-600"},{icon:o.Z,text:"Auto-Generated Notes",color:"text-blue-600"},{icon:i.Z,text:"Smart Summaries",color:"text-green-600"},{icon:d.Z,text:"Interactive Learning",color:"text-orange-600"}].map((e,s)=>(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+.1*s},className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[(0,a.jsx)(e.icon,{className:"w-6 h-6 ".concat(e.color," mb-2")}),(0,a.jsx)("p",{className:"text-sm text-gray-700",children:e.text})]},s))}),!u&&(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[(0,a.jsx)("h2",{className:"text-2xl text-center mb-6",children:"Select Your Role"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[(0,a.jsx)(l.E.div,{whileHover:{scale:1.02,y:-5},whileTap:{scale:.98},children:(0,a.jsxs)(f,{className:"p-8 cursor-pointer border-2 hover:border-blue-500 hover:shadow-lg transition-all",onClick:()=>m("student"),children:[(0,a.jsx)(d.Z,{className:"w-16 h-16 text-blue-600 mb-4 mx-auto"}),(0,a.jsx)("h3",{className:"text-2xl text-center mb-2",children:"Student"}),(0,a.jsx)("p",{className:"text-center text-gray-600",children:"Access lecture notes, AI chat, and personalized learning tools"})]})}),(0,a.jsx)(l.E.div,{whileHover:{scale:1.02,y:-5},whileTap:{scale:.98},children:(0,a.jsxs)(f,{className:"p-8 cursor-pointer border-2 hover:border-purple-500 hover:shadow-lg transition-all",onClick:()=>m("professor"),children:[(0,a.jsx)(o.Z,{className:"w-16 h-16 text-purple-600 mb-4 mx-auto"}),(0,a.jsx)("h3",{className:"text-2xl text-center mb-2",children:"Professor"}),(0,a.jsx)("p",{className:"text-center text-gray-600",children:"Monitor student engagement and enhance teaching materials"})]})})]})]}),u&&(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-5xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl",children:"Select Your Institute"}),(0,a.jsx)(g,{variant:"ghost",onClick:()=>m(null),children:"Change Role"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:F.map(e=>(0,a.jsx)(l.E.div,{whileHover:{scale:1.03},whileTap:{scale:.97},children:(0,a.jsx)(f,{className:"p-6 cursor-pointer border-2 transition-all ".concat(x===e.id?"border-blue-600 bg-blue-50 shadow-md":"border-gray-200 hover:border-blue-300 hover:shadow"),onClick:()=>h(e.id),children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("img",{src:e.logo,alt:e.name,className:"w-12 h-12 rounded-full object-cover"}),(0,a.jsx)("h3",{className:"text-lg",children:e.name})]})})},e.id))}),t.length>6&&(0,a.jsx)("div",{className:"text-center mb-8",children:(0,a.jsx)(g,{variant:"ghost",onClick:()=>A(!P),children:P?"View Less":"View More"})}),"student"===u&&x&&(0,a.jsxs)(l.E.div,{className:"space-y-4 mb-8",children:[(0,a.jsx)("h3",{className:"text-xl text-center",children:"Student Details"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(v,{htmlFor:"studentGmail",children:"Gmail"}),(0,a.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,a.jsx)(b,{id:"studentGmail",type:"email",placeholder:"Enter your Gmail",value:p,onChange:e=>j(e.target.value)}),(0,a.jsx)(g,{variant:"outline",onClick:()=>j("demo@gmail.com"),children:"Use Demo Gmail"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(v,{htmlFor:"studentCourse",children:"Course"}),(0,a.jsxs)(k,{onValueChange:N,value:y,children:[(0,a.jsx)(_,{className:"w-full mt-1",children:(0,a.jsx)(S,{placeholder:"Select Course"})}),(0,a.jsxs)(I,{children:[(0,a.jsx)(E,{value:"B.Tech",children:"B.Tech"}),(0,a.jsx)(E,{value:"M.Tech",children:"M.Tech"}),(0,a.jsx)(E,{value:"PhD",children:"PhD"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(v,{htmlFor:"studentYear",children:"Year"}),(0,a.jsxs)(k,{onValueChange:C,value:w,children:[(0,a.jsx)(_,{className:"w-full mt-1",children:(0,a.jsx)(S,{placeholder:"Select academic year"})}),(0,a.jsxs)(I,{children:[(0,a.jsx)(E,{value:"1st",children:"1st Year"}),(0,a.jsx)(E,{value:"2nd",children:"2nd Year"}),(0,a.jsx)(E,{value:"3rd",children:"3rd Year"}),(0,a.jsx)(E,{value:"4th",children:"4th Year"})]})]})]})]}),"professor"===u&&x&&(0,a.jsxs)(l.E.div,{className:"space-y-4 mb-8",children:[(0,a.jsx)("h3",{className:"text-xl text-center",children:"Professor Details"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(v,{htmlFor:"profGmail",children:"Gmail"}),(0,a.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,a.jsx)(b,{id:"profGmail",type:"email",placeholder:"Enter your Gmail",value:D,onChange:e=>z(e.target.value)}),(0,a.jsx)(g,{variant:"outline",onClick:()=>z("demo@gmail.com"),children:"Use Demo Gmail"})]})]})]}),(0,a.jsx)(l.E.div,{className:"text-center",initial:{opacity:0},animate:{opacity:x?1:.5},children:(0,a.jsxs)(g,{size:"lg",onClick:()=>{if(u&&x){if("student"===u){if(!p||!y||!w){alert("Please fill in all student details.");return}if("demo@gmail.com"!==p){alert("Please enter a valid Gmail or use demo Gmail");return}}if("professor"===u){if(!D){alert("Please enter your email.");return}if("demo@gmail.com"!==D){alert("Please enter a valid Gmail or use demo Gmail");return}}s(u,x)}},disabled:!x,className:"px-12",children:["Continue as ","student"===u?"Student":"Professor"]})})]}),(0,a.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-16 text-center text-gray-500",children:(0,a.jsx)("p",{children:"iHub Hackathon 2025 • Smart Scribes Team"})})]})})}var K=t(2489),W=t(5368),X=t(3917),$=t(2718),ee=t(5846),es=t(2051),et=t(7692),ea=t(5156);function er(e){let{className:s,orientation:t="horizontal",decorative:r=!0,...l}=e;return(0,a.jsx)(ea.f,{"data-slot":"separator-root",decorative:r,orientation:t,className:h("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s),...l})}var el=t(1312);function ei(e){let{delayDuration:s=0,...t}=e;return(0,a.jsx)(el.zt,{"data-slot":"tooltip-provider",delayDuration:s,...t})}function en(e){let{...s}=e;return(0,a.jsx)(ei,{children:(0,a.jsx)(el.fC,{"data-slot":"tooltip",...s})})}function eo(e){let{...s}=e;return(0,a.jsx)(el.xz,{"data-slot":"tooltip-trigger",...s})}function ed(e){let{className:s,sideOffset:t=0,children:r,...l}=e;return(0,a.jsx)(el.h_,{children:(0,a.jsxs)(el.VY,{"data-slot":"tooltip-content",sideOffset:t,className:h("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",s),...l,children:[r,(0,a.jsx)(el.Eh,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function ec(e){let{courses:s,selectedCourse:t,onCourseSelect:r,currentMode:i,onModeChange:n,onLogout:d}=e;return(0,a.jsxs)("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col h-screen",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,a.jsxs)("h2",{className:"text-lg flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5 text-blue-600"}),"My Courses"]})}),(0,a.jsx)("div",{className:"p-4 space-y-2",children:(0,a.jsxs)(ei,{children:[(0,a.jsxs)(en,{children:[(0,a.jsx)(eo,{asChild:!0,children:(0,a.jsxs)(g,{variant:"lectures"===i?"default":"ghost",className:"w-full justify-start",onClick:()=>n("lectures"),children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"Lectures"]})}),(0,a.jsx)(ed,{side:"right",children:(0,a.jsx)("p",{children:"View course lectures and notes"})})]}),(0,a.jsxs)(en,{children:[(0,a.jsx)(eo,{asChild:!0,children:(0,a.jsxs)(g,{variant:"planning"===i?"default":"ghost",className:"w-full justify-start",onClick:()=>n("planning"),children:[(0,a.jsx)(ee.Z,{className:"w-4 h-4 mr-2"}),"Planning Mode"]})}),(0,a.jsx)(ed,{side:"right",children:(0,a.jsx)("p",{children:"AI-powered concept explanation across courses"})})]}),(0,a.jsxs)(en,{children:[(0,a.jsx)(eo,{asChild:!0,children:(0,a.jsxs)(g,{variant:"projects"===i?"default":"ghost",className:"w-full justify-start",onClick:()=>n("projects"),children:[(0,a.jsx)(es.Z,{className:"w-4 h-4 mr-2"}),"Projects"]})}),(0,a.jsx)(ed,{side:"right",children:(0,a.jsx)("p",{children:"Project ideas and planning assistance"})})]})]})}),(0,a.jsx)(er,{}),"lectures"===i&&(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-2",children:(0,a.jsx)("div",{className:"space-y-1",children:s.map(e=>(0,a.jsx)(l.E.div,{whileHover:{x:4},whileTap:{scale:.98},children:(0,a.jsx)(ei,{children:(0,a.jsxs)(en,{children:[(0,a.jsx)(eo,{asChild:!0,children:(0,a.jsxs)("button",{onClick:()=>r(e.id),className:"w-full text-left px-3 py-3 rounded-lg transition-all ".concat(t===e.id?"bg-blue-100 text-blue-900":"hover:bg-gray-100 text-gray-700"),children:[(0,a.jsx)("div",{className:"text-sm mb-1",children:e.code}),(0,a.jsx)("div",{className:"text-xs text-gray-500 truncate",children:e.name})]})}),(0,a.jsx)(ed,{side:"right",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"mb-1",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:e.professor})]})})]})})},e.id))})}),(0,a.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,a.jsxs)(g,{variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",onClick:d,children:[(0,a.jsx)(et.Z,{className:"w-4 h-4 mr-2"}),"Logout"]})})]})}var eu=t(2451),em=t(1047),ex=t(407);function eh(e){let{lectures:s,selectedLecture:t,onLectureSelect:i}=e,n=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(t&&n.current){let e=n.current.querySelector('[data-lecture-id="'.concat(t,'"]'));e&&e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}},[t]);let o=e=>{n.current&&n.current.scrollBy({left:"left"===e?-300:300,behavior:"smooth"})};return(0,a.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>o("left"),className:"shrink-0",children:(0,a.jsx)(eu.Z,{className:"w-4 h-4"})}),(0,a.jsx)("div",{ref:n,className:"flex-1 overflow-x-auto scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:(0,a.jsx)("div",{className:"flex gap-2 pb-2",children:s.map(e=>(0,a.jsx)(ei,{children:(0,a.jsxs)(en,{children:[(0,a.jsx)(eo,{asChild:!0,children:(0,a.jsxs)(l.E.button,{"data-lecture-id":e.id,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:()=>i(e.id),className:"shrink-0 px-4 py-2 rounded-lg border-2 transition-all ".concat(t===e.id?"bg-blue-600 text-white border-blue-600 shadow-lg":"bg-white text-gray-700 border-gray-200 hover:border-blue-300 hover:shadow"),children:[(0,a.jsxs)("div",{className:"text-sm whitespace-nowrap",children:["Lecture ",e.number]}),(0,a.jsxs)("div",{className:"text-xs mt-1 flex items-center gap-1 ".concat(t===e.id?"text-blue-100":"text-gray-500"),children:[(0,a.jsx)(em.Z,{className:"w-3 h-3"}),new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]})}),(0,a.jsx)(ed,{children:(0,a.jsx)("p",{children:e.topic})})]})},e.id))})}),(0,a.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>o("right"),className:"shrink-0",children:(0,a.jsx)(ex.Z,{className:"w-4 h-4"})})]})})}var ep=t(1723),eg=t(3276);let ef=(0,u.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function eb(e){let{className:s,variant:t,asChild:r=!1,...l}=e,i=r?c.g7:"span";return(0,a.jsx)(i,{"data-slot":"badge",className:h(ef({variant:t}),s),...l})}function ej(e){let{content:s}=e;if(!s)return(0,a.jsx)("div",{className:"flex-1 overflow-y-auto bg-gray-50 p-6",children:(0,a.jsx)("p",{className:"text-center text-gray-500",children:"No content available."})});let{topic:t="Untitled Lecture",definition:r="",recording_url:i="",book_reference:n="",content_data:d=[]}=s,c=[];try{let e=d;"string"==typeof e&&(e=JSON.parse(e),"string"==typeof e&&(e=JSON.parse(e))),Array.isArray(e)?c=e.length>0&&"topic"in e[0]&&"details"in e[0]&&"animations"in e[0]?e.map(e=>({topic:e.topic,details:e.details,question:e.question,animations:e.animations.map(e=>({title:e.title,code:e.code,video:e.video,duration:e.duration})),book_references:e.book_references})):e:e&&"object"==typeof e&&(Array.isArray(e.content)?c=e.content:Array.isArray(e.sections)?c=e.sections:Array.isArray(e.doubts)&&(c=e.doubts))}catch(e){console.error("❌ Error parsing content data:",e)}return(0,a.jsx)("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:(0,a.jsxs)("div",{className:"max-w-5xl mx-auto p-6 space-y-8",children:[(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,a.jsx)("h1",{className:"text-4xl mb-2 font-bold text-gray-800 border-b-4 border-indigo-500 pb-2",children:t}),(0,a.jsxs)(eb,{variant:"secondary",className:"gap-1 bg-indigo-100 text-indigo-700",children:[(0,a.jsx)(ep.Z,{className:"w-3 h-3"})," Auto-generated notes"]})]}),r&&(0,a.jsxs)(f,{className:"p-6 bg-gradient-to-r from-blue-50 to-blue-100 border-blue-300 shadow-sm",children:[(0,a.jsxs)("h2",{className:"text-2xl font-semibold mb-3 flex items-center gap-2 text-blue-800 border-b border-blue-300 pb-2",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5 text-blue-600"}),"Definition"]}),(0,a.jsx)("p",{className:"text-gray-700 leading-relaxed text-lg",children:r})]}),(0,a.jsxs)(f,{className:"p-6 bg-white border shadow-md",children:[(0,a.jsxs)("h3",{className:"mb-3 text-xl flex items-center gap-2 font-semibold text-purple-700 border-b border-purple-300 pb-2",children:[(0,a.jsx)(eg.Z,{className:"w-5 h-5 text-purple-600"})," Lecture Recording"]}),(0,a.jsx)("div",{className:"relative w-full rounded-xl overflow-hidden shadow-sm",style:{paddingTop:"56.25%"},children:i?(0,a.jsx)("video",{src:P(i),controls:!0,className:"absolute top-0 left-0 w-full h-full object-cover"}):(0,a.jsx)("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center text-gray-300 bg-gray-900",children:"No recording available."})})]}),n&&(0,a.jsxs)(f,{className:"p-6 bg-gradient-to-r from-green-50 to-green-100 border-green-300",children:[(0,a.jsxs)("h3",{className:"mb-3 flex items-center gap-2 text-green-800 font-semibold border-b border-green-300 pb-2",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5 text-green-600"})," Book Reference"]}),(0,a.jsx)("p",{className:"text-gray-800 bg-green-50 p-4 rounded-lg leading-relaxed shadow-inner",children:n})]}),c&&c.length>0?c.map((e,s)=>(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*s},children:(0,a.jsxs)(f,{className:"p-6 space-y-4 bg-white border-l-8 border-indigo-300 hover:shadow-md transition-shadow",children:[(0,a.jsx)("h2",{className:"text-2xl mb-3 font-semibold text-indigo-800 bg-indigo-50 p-3 rounded-lg border border-indigo-200",children:e.topic||e.title||"Section ".concat(s+1)}),(0,a.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:(0,a.jsx)("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:e.details||e.content||e.answer||"No details available."})}),e.question&&(0,a.jsxs)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-lg mt-4 shadow-sm",children:[(0,a.jsxs)("h4",{className:"flex items-center gap-2 text-yellow-700 font-semibold",children:[(0,a.jsx)(W.Z,{className:"w-4 h-4"})," Question"]}),(0,a.jsx)("p",{className:"text-gray-800 mt-2",children:e.question})]}),e.animations&&e.animations.filter(e=>e.video&&null!==e.video).length>0&&(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:e.animations.filter(e=>e.video&&null!==e.video).map((e,s)=>(0,a.jsxs)(f,{className:"overflow-hidden border hover:shadow-lg transition-shadow bg-gray-50",children:[(0,a.jsxs)("div",{className:"aspect-video bg-gray-100 relative",children:[(0,a.jsx)("video",{src:P(e.video),controls:!0,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"}),(0,a.jsx)(eb,{className:"absolute top-2 right-2 bg-indigo-200 text-indigo-800",children:e.duration})]}),(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-800",children:e.title}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.code})]})]},s))}),e.book_references&&e.book_references.length>0&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("h4",{className:"flex items-center gap-2 text-gray-700 font-semibold",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4"})," Book References"]}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-2",children:e.book_references.map((e,s)=>(0,a.jsx)("div",{className:"overflow-hidden rounded-lg border bg-white hover:shadow",children:(0,a.jsx)("img",{src:e,alt:"Reference ".concat(s+1),className:"w-full h-full object-cover"})},s))})]})]})},s)):(0,a.jsx)("p",{className:"text-gray-500 text-center italic mt-6",children:"No structured content sections available for this lecture."})]})})}var ev=t(2369),ey=t(2222),eN=t(4743);function ew(e){let{lectureContent:s}=e,[t,l]=(0,r.useState)([{id:"1",role:"assistant",content:"Hello! I'm your AI learning assistant powered by Gemini. Ask me anything about your lectures, concepts, or get help with problems! I can also search the web for current information.",timestamp:new Date}]),i=(0,r.useRef)(null),[o,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),m=(0,r.useRef)(null);(0,r.useEffect)(()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},[t]);let x=async()=>{var e,t;let a=null!==(t=null===(e=i.current)||void 0===e?void 0:e.value)&&void 0!==t?t:"";if(!a.trim()||o)return;let r={id:Date.now().toString(),role:"user",content:a,timestamp:new Date};l(e=>[...e,r]),i.current&&(i.current.value=""),d(!0);try{let e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:a,lectureContent:null==s?null:"string"==typeof s?s:JSON.stringify(s)})});if(!e.ok)throw Error("Failed to get response");let t=await e.json(),r={id:(Date.now()+1).toString(),role:"assistant",content:t.response,timestamp:new Date};l(e=>[...e,r])}catch(s){console.error("Error:",s);let e={id:(Date.now()+1).toString(),role:"assistant",content:"I apologize, but I encountered an error. Please make sure your API keys are configured correctly and try again.",timestamp:new Date};l(s=>[...s,e])}finally{d(!1)}},h=()=>(0,a.jsxs)("div",{className:"flex flex-col h-full bg-white",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-blue-50 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-lg flex items-center gap-2 font-semibold",children:[(0,a.jsx)(n.Z,{className:"w-5 h-5 text-purple-600"}),"AI Assistant"]}),(0,a.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Ask questions, get instant help"})]}),(0,a.jsx)("button",{onClick:()=>u(!1),className:"lg:hidden p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,a.jsx)(K.Z,{className:"w-5 h-5 text-gray-600"})})]}),(0,a.jsxs)("div",{ref:m,className:"flex-1 overflow-y-auto p-4 space-y-4",children:[t.map(e=>(0,a.jsxs)("div",{className:"flex gap-3 ".concat("user"===e.role?"flex-row-reverse":"flex-row"," animate-in fade-in slide-in-from-bottom-2 duration-300"),children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center shrink-0 ".concat("user"===e.role?"bg-blue-600 text-white":"bg-purple-100 text-purple-600"),children:"user"===e.role?(0,a.jsx)(ev.Z,{className:"w-4 h-4"}):(0,a.jsx)(ey.Z,{className:"w-4 h-4"})}),(0,a.jsxs)("div",{className:"flex-1 rounded-lg p-3 ".concat("user"===e.role?"bg-blue-600 text-white":"bg-gray-100 text-gray-800"),children:[(0,a.jsx)("p",{className:"text-sm whitespace-pre-line leading-relaxed",children:e.content}),(0,a.jsx)("p",{className:"text-xs mt-2 ".concat("user"===e.role?"text-blue-100":"text-gray-500"),children:e.timestamp.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]},e.id)),o&&(0,a.jsxs)("div",{className:"flex gap-3 animate-in fade-in duration-300",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center shrink-0",children:(0,a.jsx)(ey.Z,{className:"w-4 h-4"})}),(0,a.jsx)("div",{className:"bg-gray-100 rounded-lg p-3",children:(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]})]}),(0,a.jsxs)("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("textarea",{ref:i,onKeyDown:e=>{e.stopPropagation(),"Enter"!==e.key||e.shiftKey||(e.preventDefault(),x())},placeholder:"Ask a question...",className:"flex-1 resize-none border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:2}),(0,a.jsx)("button",{onClick:x,type:"button",disabled:o,className:"shrink-0 bg-purple-600 text-white rounded-lg px-4 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,a.jsx)(eN.Z,{className:"w-4 h-4"})})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})]});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"hidden lg:block w-96 h-full border-l border-gray-200",children:(0,a.jsx)(h,{})}),(0,a.jsx)("button",{onClick:()=>u(!0),className:"lg:hidden fixed bottom-20 left-4 z-40 bg-purple-600 text-white rounded-full p-4 shadow-lg hover:bg-purple-700 transition-colors",children:(0,a.jsx)($.Z,{className:"w-6 h-6"})}),c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{onClick:()=>u(!1),className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40 animate-in fade-in duration-200"}),(0,a.jsx)("div",{className:"lg:hidden fixed inset-y-0 right-0 w-full sm:w-96 z-50 shadow-2xl animate-in slide-in-from-right duration-300",children:(0,a.jsx)(h,{})})]})]})}var eC=t(3247),ek=t(6595);function eS(){let[e,s]=(0,r.useState)(""),[t,i]=(0,r.useState)(null);return(0,a.jsx)("div",{className:"flex-1 overflow-y-auto bg-gray-50 p-6",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,a.jsxs)("h1",{className:"text-3xl mb-2 flex items-center gap-2",children:[(0,a.jsx)(ee.Z,{className:"w-8 h-8 text-yellow-600"}),"Planning Mode"]}),(0,a.jsx)("p",{className:"text-gray-600",children:"Explore concepts across multiple courses and get AI-powered recommendations"})]}),(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(eC.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)(b,{value:e,onChange:e=>s(e.target.value),placeholder:"Search for concepts, topics, or connections...",className:"pl-10 py-6"})]})}),(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[(0,a.jsx)("h2",{className:"text-2xl mb-4",children:"Cross-Course Concepts"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{id:"1",name:"Fourier Transform Applications",courses:["IC-252","IC-256"],description:"Understanding how Fourier transforms are used in signal processing and feature extraction in machine learning",professors:["Dr. Rajesh Kumar","Dr. Amit Patel"]},{id:"2",name:"Tree-based Algorithms in ML",courses:["IC-112","IC-256"],description:"How tree data structures form the foundation of decision trees and random forests in machine learning",professors:["Dr. Priya Sharma","Dr. Amit Patel"]},{id:"3",name:"Graph Algorithms in Networks",courses:["IC-112","DC-256"],description:"Application of graph traversal and shortest path algorithms in routing protocols",professors:["Dr. Priya Sharma","Dr. Sanjay Verma"]}].map((e,s)=>(0,a.jsx)(l.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1*s},whileHover:{scale:1.03,y:-5},children:(0,a.jsxs)(f,{className:"p-5 cursor-pointer transition-all ".concat(t===e.id?"border-2 border-blue-500 shadow-lg":"hover:shadow-md"),onClick:()=>i(e.id),children:[(0,a.jsxs)("h3",{className:"mb-2 flex items-start gap-2",children:[(0,a.jsx)(ee.Z,{className:"w-5 h-5 text-yellow-600 shrink-0 mt-1"}),e.name]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:e.courses.map(e=>(0,a.jsx)(eb,{variant:"secondary",children:e},e))}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Professors: ",e.professors.join(", ")]})]})},e.id))})]}),t&&(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,a.jsxs)(f,{className:"p-6 bg-gradient-to-br from-blue-50 to-purple-50",children:[(0,a.jsx)("h2",{className:"text-2xl mb-4",children:"AI-Powered Explanation"}),(0,a.jsxs)("div",{className:"prose max-w-none",children:[(0,a.jsx)("p",{className:"text-gray-700 leading-relaxed mb-4",children:"The connection between these courses reveals a fundamental principle in computer science: mathematical transformations and data structures often have deep applications across different domains."}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-4 mb-4",children:[(0,a.jsx)("h3",{className:"text-lg mb-2",children:"Key Insights:"}),(0,a.jsxs)("ul",{className:"space-y-2 text-sm text-gray-700",children:[(0,a.jsxs)("li",{className:"flex gap-2",children:[(0,a.jsx)("span",{className:"text-blue-600",children:"•"}),(0,a.jsx)("span",{children:"Fourier transforms break signals into frequency components, similar to how decision trees break data into hierarchical decisions"})]}),(0,a.jsxs)("li",{className:"flex gap-2",children:[(0,a.jsx)("span",{className:"text-blue-600",children:"•"}),(0,a.jsx)("span",{children:"Both techniques involve decomposition - signals into frequencies, data into partitions"})]}),(0,a.jsxs)("li",{className:"flex gap-2",children:[(0,a.jsx)("span",{className:"text-blue-600",children:"•"}),(0,a.jsx)("span",{children:"Understanding tree traversal algorithms helps visualize how neural networks propagate information through layers"})]})]})]}),(0,a.jsx)(g,{children:"Explore Further with AI"})]})]})}),(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[(0,a.jsxs)("h2",{className:"text-2xl mb-4 flex items-center gap-2",children:[(0,a.jsx)(ev.Z,{className:"w-6 h-6 text-purple-600"}),"Recommended Professors for Deep Dives"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{concept:"Digital Filtering",professor:"Dr. Rajesh Kumar",course:"IC-252",reason:"Expert in practical applications of Z-transform",rating:4.8},{concept:"Neural Network Optimization",professor:"Dr. Amit Patel",course:"IC-256",reason:"Research focus on gradient descent and backpropagation",rating:4.9},{concept:"Advanced Data Structures",professor:"Dr. Priya Sharma",course:"IC-112",reason:"Industry experience with scalable systems",rating:4.7}].map((e,s)=>(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4+.1*s},whileHover:{scale:1.05},children:(0,a.jsxs)(f,{className:"p-5",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"mb-1",children:e.professor}),(0,a.jsx)(eb,{variant:"outline",className:"text-xs",children:e.course})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-yellow-600",children:[(0,a.jsx)(ek.Z,{className:"w-4 h-4 fill-current"}),(0,a.jsx)("span",{className:"text-sm",children:e.rating})]})]}),(0,a.jsx)("p",{className:"text-sm mb-2",children:e.concept}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:e.reason}),(0,a.jsxs)(g,{variant:"outline",size:"sm",className:"w-full mt-3",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"View Office Hours"]})]})},s))})]})]})})}var e_=t(1671),eI=t(610);function eE(e){let{className:s,value:t,...r}=e;return(0,a.jsx)(eI.fC,{"data-slot":"progress",className:h("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",s),...r,children:(0,a.jsx)(eI.z$,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(t||0),"%)")}})})}function eD(){return(0,a.jsx)("div",{className:"flex-1 overflow-y-auto bg-gray-50 p-6",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,a.jsxs)("h1",{className:"text-3xl mb-2 flex items-center gap-2",children:[(0,a.jsx)(es.Z,{className:"w-8 h-8 text-blue-600"}),"Project Ideas & Planning"]}),(0,a.jsx)("p",{className:"text-gray-600",children:"AI-generated project ideas that combine concepts from multiple courses"})]}),(0,a.jsx)("div",{className:"space-y-6",children:[{id:"1",title:"Real-time Speech Recognition System",courses:["IC-252","IC-256"],description:"Build a speech recognition system using signal processing and neural networks",difficulty:"Advanced",progress:35,concepts:["Fourier Transform","Neural Networks","Audio Processing"],aiSuggestions:["Start with preprocessing audio using Z-transform filters","Extract MFCC features for speech characterization","Use RNN/LSTM for sequence modeling"]},{id:"2",title:"Network Traffic Analyzer",courses:["DC-256","IC-112"],description:"Analyze and visualize network traffic patterns using graph algorithms",difficulty:"Intermediate",progress:60,concepts:["Graph Algorithms","Network Protocols","Data Structures"],aiSuggestions:["Use graph traversal for packet routing analysis","Implement priority queues for traffic management","Visualize network topology with force-directed layouts"]},{id:"3",title:"AI-Powered Study Planner",courses:["IC-256","DC-202"],description:"Create an intelligent study planner that adapts to learning patterns",difficulty:"Beginner",progress:20,concepts:["Machine Learning","Recommendation Systems","Database Design"],aiSuggestions:["Use collaborative filtering for personalized recommendations","Implement spaced repetition algorithm","Design normalized database schema for user progress"]}].map((e,s)=>(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},children:(0,a.jsxs)(f,{className:"p-6 hover:shadow-lg transition-shadow",children:[(0,a.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("h2",{className:"text-2xl",children:e.title}),(0,a.jsx)(eb,{variant:"Beginner"===e.difficulty?"secondary":"Intermediate"===e.difficulty?"default":"destructive",children:e.difficulty})]}),(0,a.jsx)("p",{className:"text-gray-600 mb-3",children:e.description}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:e.courses.map(e=>(0,a.jsxs)(eb,{variant:"outline",children:[(0,a.jsx)(o.Z,{className:"w-3 h-3 mr-1"}),e]},e))})]})}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Project Progress"}),(0,a.jsxs)("span",{className:"text-sm",children:[e.progress,"%"]})]}),(0,a.jsx)(eE,{value:e.progress,className:"h-2"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("h3",{className:"text-sm mb-2 flex items-center gap-2",children:[(0,a.jsx)(ee.Z,{className:"w-4 h-4 text-yellow-600"}),"Key Concepts"]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:e.concepts.map(e=>(0,a.jsx)(eb,{className:"bg-purple-100 text-purple-700 border-purple-300",children:e},e))})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("h3",{className:"text-sm mb-3 flex items-center gap-2",children:[(0,a.jsx)(n.Z,{className:"w-4 h-4 text-blue-600"}),"AI Implementation Roadmap"]}),(0,a.jsx)("div",{className:"space-y-2",children:e.aiSuggestions.map((e,t)=>(0,a.jsxs)(l.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*s+.05*t},className:"flex items-start gap-3 p-3 bg-blue-50 rounded-lg",children:[(0,a.jsx)(e_.Z,{className:"w-5 h-5 text-blue-600 shrink-0 mt-0.5"}),(0,a.jsx)("p",{className:"text-sm text-gray-700",children:e})]},t))})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)(g,{className:"flex-1",children:[(0,a.jsx)(n.Z,{className:"w-4 h-4 mr-2"}),"Get AI Assistance"]}),(0,a.jsx)(g,{variant:"outline",children:"View Resources"}),(0,a.jsx)(g,{variant:"outline",children:"Find Team"})]})]})},e.id))}),(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:(0,a.jsxs)(f,{className:"p-8 text-center bg-gradient-to-br from-purple-50 to-blue-50 border-2 border-dashed border-purple-300",children:[(0,a.jsx)(n.Z,{className:"w-12 h-12 text-purple-600 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl mb-2",children:"Need a Custom Project Idea?"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Let AI generate a personalized project based on your interests and course progress"}),(0,a.jsxs)(g,{size:"lg",children:[(0,a.jsx)(n.Z,{className:"w-4 h-4 mr-2"}),"Generate Project with AI"]})]})})]})})}var ez=t(5095),eP=t(9397),eA=t(1817),eZ=t(2208),eF=t(9027);function eq(e){let{...s}=e;return(0,a.jsx)(eF.fC,{"data-slot":"dialog",...s})}function eL(e){let{...s}=e;return(0,a.jsx)(eF.h_,{"data-slot":"dialog-portal",...s})}function eU(e){let{className:s,...t}=e;return(0,a.jsx)(eF.aV,{"data-slot":"dialog-overlay",className:h("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function eT(e){let{className:s,children:t,...r}=e;return(0,a.jsxs)(eL,{"data-slot":"dialog-portal",children:[(0,a.jsx)(eU,{}),(0,a.jsxs)(eF.VY,{"data-slot":"dialog-content",className:h("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...r,children:[t,(0,a.jsxs)(eF.x8,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(K.Z,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function eM(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:h("flex flex-col gap-2 text-center sm:text-left",s),...t})}function eG(e){let{className:s,...t}=e;return(0,a.jsx)(eF.Dx,{"data-slot":"dialog-title",className:h("text-lg leading-none font-semibold",s),...t})}function eR(e){let{className:s,...t}=e;return(0,a.jsx)(eF.dk,{"data-slot":"dialog-description",className:h("text-muted-foreground text-sm",s),...t})}function eB(e){let{open:s,onClose:t,lectureContent:i}=e,[n,o]=(0,r.useState)([]),[d,c]=(0,r.useState)(""),[u,m]=(0,r.useState)("mcq"),[x,h]=(0,r.useState)(!1),[p,j]=(0,r.useState)(!1),[y,N]=(0,r.useState)(!1),[w,C]=(0,r.useState)([]),[D,z]=(0,r.useState)(null),P=()=>{d.trim()&&!n.includes(d.trim())?(o([...n,d.trim()]),c(""),z(null)):n.includes(d.trim())&&z("This topic has already been added")},A=e=>{o(n.filter(s=>s!==e))},Z=async()=>{if(0===n.length){z("Please add at least one topic");return}N(!0),z(null);try{let e=[];for(let s of n){let t=await fetch("/api/qna/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:s,questionFormat:u})});if(!t.ok)throw Error("Failed to generate questions for topic: ".concat(s));let a=await t.json();a.questions&&a.questions.length>0&&e.push(...a.questions)}if(0===e.length)throw Error("No questions were generated");C(e),h(!0),j(!1)}catch(e){console.error("Error generating quiz:",e),z("Failed to generate questions. Please try again.")}finally{N(!1)}},F=()=>{h(!1),j(!1),o([]),c(""),C([]),z(null)};return(0,a.jsx)(eq,{open:s,onOpenChange:()=>{F(),t()},children:(0,a.jsxs)(eT,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(eM,{children:[(0,a.jsxs)(eG,{className:"flex items-center gap-2 text-2xl",children:[(0,a.jsx)(X.Z,{className:"w-6 h-6 text-purple-600"}),"QnA Generator"]}),(0,a.jsx)(eR,{children:"Add topics and select question format to generate a personalized quiz"})]}),x?(0,a.jsxs)("div",{className:"space-y-6 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold",children:"Generated Quiz"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[w.length," questions •"," ","mcq"===u?"Multiple Choice":"subjective"===u?"Subjective":"Mathematical Problems"]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(g,{variant:"outline",onClick:()=>j(!p),children:[(0,a.jsx)(eZ.Z,{className:"w-4 h-4 mr-2"}),p?"Hide":"Show"," Solutions"]}),(0,a.jsx)(g,{variant:"outline",onClick:F,children:"New Quiz"})]})]}),(0,a.jsx)(er,{}),(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)(ez.M,{children:w.length>0?w.map((e,s)=>(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},children:(0,a.jsxs)(f,{className:"p-5",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,a.jsxs)(eb,{variant:"secondary",children:["Q",s+1]}),(0,a.jsx)("p",{className:"flex-1 text-gray-800",children:e.question})]}),"mcq"===u&&e.options&&(0,a.jsx)("div",{className:"space-y-2 mb-4",children:e.options.map((s,t)=>(0,a.jsx)("div",{className:"p-3 rounded-lg border ".concat(p&&t===e.correct?"bg-green-50 border-green-500":"bg-gray-50 border-gray-200"),children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"w-6 h-6 rounded-full bg-white border-2 border-gray-300 flex items-center justify-center text-sm",children:String.fromCharCode(65+t)}),(0,a.jsx)("span",{children:s}),p&&t===e.correct&&(0,a.jsx)(e_.Z,{className:"w-5 h-5 text-green-600 ml-auto"})]})},t))}),p&&(e.explanation||e.solution)&&(0,a.jsxs)(l.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg",children:[(0,a.jsxs)("h4",{className:"mb-2 flex items-center gap-2 font-semibold",children:[(0,a.jsx)(e_.Z,{className:"w-5 h-5 text-blue-600"}),"Solution"]}),(0,a.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:e.explanation||e.solution})]})]})},e.id||s)):(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No questions generated. Please try again with a different topic."})})})]}):(0,a.jsxs)("div",{className:"space-y-6 py-4",children:[D&&(0,a.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-r-lg",children:(0,a.jsx)("p",{className:"text-red-700",children:D})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(v,{className:"text-base mb-3 block",children:"Add Topics"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(b,{placeholder:"Enter a topic (e.g., Quantum Mechanics, Data Structures)",value:d,onChange:e=>c(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),P())},className:"flex-1"}),(0,a.jsxs)(g,{onClick:P,disabled:!d.trim(),size:"default",children:[(0,a.jsx)(eP.Z,{className:"w-4 h-4 mr-2"}),"Add"]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Press Enter or click Add to add the topic to your list"})]}),n.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)(v,{className:"text-base mb-3 block",children:["Selected Topics (",n.length,")"]}),(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsx)(ez.M,{children:n.map((e,s)=>(0,a.jsx)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},children:(0,a.jsxs)(f,{className:"p-3 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(eb,{variant:"secondary",children:s+1}),(0,a.jsx)("span",{className:"text-sm font-medium",children:e})]}),(0,a.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>A(e),children:(0,a.jsx)(K.Z,{className:"w-4 h-4 text-gray-500 hover:text-red-500"})})]})},e))})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(v,{className:"text-base mb-3 block",children:"Question Format"}),(0,a.jsxs)(k,{value:u,onValueChange:m,children:[(0,a.jsx)(_,{className:"w-full",children:(0,a.jsx)(S,{})}),(0,a.jsxs)(I,{children:[(0,a.jsx)(E,{value:"mcq",children:"Multiple Choice Questions (MCQ)"}),(0,a.jsx)(E,{value:"subjective",children:"Subjective Questions"}),(0,a.jsx)(E,{value:"mathematical",children:"Mathematical Problems"})]})]})]}),(0,a.jsx)(g,{onClick:Z,disabled:y||0===n.length,className:"w-full",size:"lg",children:y?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eA.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating Quiz..."]}):"Generate Quiz"})]})]})})}var eO=t(3417),eV=t(6937);function eY(e){let{onClose:s}=e,[t,i]=(0,r.useState)([]),[n,o]=(0,r.useState)([]),[d,c]=(0,r.useState)(!1),[u,m]=(0,r.useState)(!0),[x,h]=(0,r.useState)({courseId:"",studentName:"",question:"",date:new Date().toISOString().split("T")[0]});(0,r.useEffect)(()=>{!async function(){try{let[e,s]=await Promise.all([M(),F()]);i(e),o(s)}catch(e){console.error("Error loading data:",e)}finally{m(!1)}}()},[]);let p=async e=>{if(e.preventDefault(),!x.courseId||!x.studentName||!x.question){alert("Please fill all fields");return}try{await J({courseId:x.courseId,studentName:x.studentName,question:x.question,date:x.date});let e=await M();i(e),h({courseId:"",studentName:"",question:"",date:new Date().toISOString().split("T")[0]}),c(!1)}catch(e){console.error("Error creating doubt:",e),alert("Failed to submit doubt")}};return u?(0,a.jsx)("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading doubts..."})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-4 md:p-8",children:[(0,a.jsxs)("div",{className:"max-w-5xl mx-auto mb-6 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(eO.Z,{className:"w-8 h-8 text-blue-600"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"My Doubts"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(g,{onClick:()=>c(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[(0,a.jsx)(eV.Z,{className:"w-4 h-4 mr-2"}),"Ask Doubt"]}),(0,a.jsx)(g,{variant:"outline",onClick:s,className:"md:hidden",children:(0,a.jsx)(K.Z,{className:"w-4 h-4"})})]})]}),d&&(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto mb-6",children:(0,a.jsxs)(f,{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Ask a New Doubt"}),(0,a.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Course"}),(0,a.jsxs)("select",{value:x.courseId,onChange:e=>h({...x,courseId:e.target.value}),className:"w-full border rounded-md px-3 py-2",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select a course"}),n.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.code," - ",e.name]},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Your Name"}),(0,a.jsx)(b,{type:"text",value:x.studentName,onChange:e=>h({...x,studentName:e.target.value}),placeholder:"Enter your name",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Question"}),(0,a.jsx)("textarea",{value:x.question,onChange:e=>h({...x,question:e.target.value}),placeholder:"Enter your question...",className:"w-full border rounded-md px-3 py-2 min-h-[120px]",required:!0})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(g,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Submit Doubt"}),(0,a.jsx)(g,{type:"button",variant:"outline",onClick:()=>{c(!1),h({courseId:"",studentName:"",question:"",date:new Date().toISOString().split("T")[0]})},children:"Cancel"})]})]})]})}),(0,a.jsx)("div",{className:"max-w-5xl mx-auto",children:(0,a.jsx)(f,{className:"p-6 md:p-8",children:0===t.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(eO.Z,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),(0,a.jsx)("p",{className:"text-gray-600 text-lg mb-2",children:"No doubts yet"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Ask your first doubt to get started!"})]}):(0,a.jsx)("div",{className:"space-y-4",children:t.map(e=>{let s=n.find(s=>s.id===e.courseId);return(0,a.jsxs)("div",{className:"border rounded-lg p-4 hover:shadow-sm transition-all bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2 flex-wrap gap-2",children:[(0,a.jsx)("p",{className:"font-semibold text-blue-700",children:e.studentName}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.date})]}),(0,a.jsx)("p",{className:"text-gray-800 mb-2",children:e.question}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 italic",children:["Course: ",s?"".concat(s.code," - ").concat(s.name):"Unknown"]}),e.reply&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-md",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-green-700 mb-1",children:"Professor's Reply:"}),(0,a.jsx)("p",{className:"text-green-700",children:e.reply})]}),!e.reply&&(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsx)("p",{className:"text-sm text-gray-500 italic",children:"Waiting for professor's reply..."})})]},e.id)})})})})]})}function eH(e){let{onLogout:s}=e,[t,l]=(0,r.useState)([]),[i,n]=(0,r.useState)({}),[o,d]=(0,r.useState)({}),[c,u]=(0,r.useState)(null),[m,x]=(0,r.useState)(null),[h,p]=(0,r.useState)("lectures"),[f,b]=(0,r.useState)(!1),[j,v]=(0,r.useState)(!1),[y,N]=(0,r.useState)(!1),[w,C]=(0,r.useState)(!1),[k,S]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async function(){try{let e=await F();l(e),e.length>0&&u(e[0].id)}catch(e){console.error("Error loading courses:",e)}finally{S(!1)}})()},[]),(0,r.useEffect)(()=>{(async function(){if(c)try{let e=await L(c);n(s=>({...s,[c]:e})),e.length>0&&"lectures"===h&&x(e[0].id)}catch(e){console.error("Error loading lectures:",e)}})()},[c,h]),(0,r.useEffect)(()=>{(async function(){if(m&&!o[m])try{let e=await T(m);e&&(console.log("[LectureContent] Loaded for lecture:",m),console.log("[LectureContent] Recording URL:",e.recording_url),console.log("[LectureContent] Book Reference:",e.book_reference),console.log("[LectureContent] Content sections:",e.content_data),d(s=>({...s,[m]:e})))}catch(e){console.error("Error loading lecture content:",e)}})()},[m]);let _=()=>m&&o[m]||null;return k?(0,a.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading courses..."})]})}):(0,a.jsxs)("div",{className:"flex h-screen bg-gray-50 overflow-hidden",children:[(0,a.jsxs)("div",{className:"fixed inset-y-0 left-0 z-50 w-64 transform bg-white shadow-lg transition-transform duration-300 ease-in-out\n          ".concat(y?"translate-x-0":"-translate-x-full","\n          md:relative md:translate-x-0"),children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 md:hidden",children:[(0,a.jsx)("h2",{className:"font-semibold text-lg",children:"Menu"}),(0,a.jsx)(g,{variant:"ghost",size:"icon",onClick:()=>N(!1),children:(0,a.jsx)(K.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)(ec,{courses:t,selectedCourse:c,onCourseSelect:u,currentMode:h,onModeChange:p,onLogout:s})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,a.jsxs)("div",{className:"bg-white border-b border-gray-200 flex items-center justify-between px-4 py-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(g,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>N(!0),children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16m0 6H4"})})}),(0,a.jsx)("h1",{className:"font-semibold text-lg",children:"Student Dashboard"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ei,{children:(0,a.jsxs)(en,{children:[(0,a.jsx)(eo,{asChild:!0,children:(0,a.jsxs)(g,{onClick:()=>v(!0),variant:"outline",className:"gap-2 text-sm hidden md:flex",children:[(0,a.jsx)(W.Z,{className:"w-4 h-4"}),"My Doubts"]})}),(0,a.jsx)(ed,{children:(0,a.jsx)("p",{children:"View and ask your doubts"})})]})}),(0,a.jsx)(ei,{children:(0,a.jsxs)(en,{children:[(0,a.jsx)(eo,{asChild:!0,children:(0,a.jsxs)(g,{onClick:()=>b(!0),variant:"outline",className:"gap-2 text-sm",children:[(0,a.jsx)(X.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"hidden md:inline",children:"QnA Generator"})]})}),(0,a.jsx)(ed,{children:(0,a.jsx)("p",{children:"Generate custom quizzes from course concepts"})})]})})]})]}),"lectures"===h&&(0,a.jsx)("div",{className:"bg-gray-50 border-b border-gray-200 overflow-x-auto",children:(0,a.jsx)(eh,{lectures:c&&i[c]||[],selectedLecture:m,onLectureSelect:x})}),(0,a.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto",children:["lectures"===h&&_()&&(0,a.jsx)(ej,{content:_()}),"lectures"===h&&!_()&&(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center text-gray-500",children:[(0,a.jsx)("p",{className:"text-xl mb-2",children:"No lecture content available"}),(0,a.jsx)("p",{className:"text-sm",children:"Select a different lecture or course"})]})}),"planning"===h&&(0,a.jsx)(eS,{}),"projects"===h&&(0,a.jsx)(eD,{})]}),(0,a.jsx)("div",{className:"hidden lg:block w-[350px] border-l border-gray-200",children:(0,a.jsx)(ew,{lectureContent:_()})})]})]}),(0,a.jsx)(g,{className:"fixed bottom-11 right-5 rounded-full shadow-lg p-3 md:flex lg:hidden bg-blue-600 text-white hover:bg-blue-700",onClick:()=>C(!w),children:(0,a.jsx)($.Z,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{className:"fixed inset-y-0 right-0 w-80 bg-white shadow-xl z-50 transform transition-transform duration-300 ease-in-out\n          ".concat(w?"translate-x-0":"translate-x-full","\n          lg:hidden"),children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-3 border-b border-gray-200",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"AI Assistant"}),(0,a.jsx)(g,{variant:"ghost",size:"icon",onClick:()=>C(!1),children:(0,a.jsx)(K.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)(ew,{})]}),(0,a.jsx)(eB,{open:f,onClose:()=>b(!1),lectureContent:_()}),j&&(0,a.jsxs)("div",{className:"fixed inset-0 bg-white z-50 overflow-y-auto",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white border-b px-4 py-3 flex items-center justify-between z-10",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Doubts"}),(0,a.jsx)(g,{variant:"ghost",size:"icon",onClick:()=>v(!1),children:(0,a.jsx)(K.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)(eY,{onClose:()=>v(!1)})]}),(0,a.jsx)(g,{className:"fixed bottom-1 right-5 rounded-full shadow-lg p-3 md:hidden bg-green-600 text-white hover:bg-green-700 z-40",onClick:()=>v(!0),children:(0,a.jsx)(W.Z,{className:"w-6 h-6"})})]})}var eJ=t(8293);function eQ(e){let{view:s,setView:t,courses:r,selectedCourseId:l,setSelectedCourseId:i,setIsAddingCourse:n,sidebarOpen:d,setSidebarOpen:c,onLogout:u}=e;return(0,a.jsxs)("div",{className:"fixed lg:static inset-y-0 left-0 w-72 bg-white shadow-lg border-r p-6 flex flex-col justify-between z-40 transform ".concat(d?"translate-x-0":"-translate-x-full"," transition-transform duration-300 ease-in-out lg:translate-x-0"),children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"w-6 h-6 text-purple-600"}),"Dashboard"]}),(0,a.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,a.jsx)("button",{onClick:()=>t("courses"),className:"w-full text-left p-3 rounded-md ".concat("courses"===s?"bg-purple-100 border border-purple-400":"hover:bg-gray-100"),children:"\uD83D\uDCD8 Courses"}),(0,a.jsx)("button",{onClick:()=>t("doubts"),className:"w-full text-left p-3 rounded-md ".concat("doubts"===s?"bg-purple-100 border border-purple-400":"hover:bg-gray-100"),children:"\uD83D\uDCAC Doubts"})]}),"courses"===s&&(0,a.jsxs)("div",{className:"overflow-y-auto max-h-[60vh]",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Your Courses"}),(0,a.jsx)("div",{className:"space-y-2",children:r.map(e=>(0,a.jsxs)("div",{onClick:()=>{i(e.id),n(!1),c(!1)},className:"cursor-pointer p-3 rounded-md break-words ".concat(l===e.id?"bg-purple-100 border border-purple-400":"hover:bg-gray-100"),children:[(0,a.jsx)("p",{className:"font-medium",children:e.courseName}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.courseCode})]},e.id))})]})]}),(0,a.jsxs)("div",{className:"mt-6",children:["courses"===s&&(0,a.jsxs)(g,{onClick:()=>n(!0),className:"w-full flex items-center gap-2 bg-purple-600 hover:bg-purple-700 text-white",children:[(0,a.jsx)(eV.Z,{className:"w-4 h-4"})," Add Course"]}),(0,a.jsxs)(g,{onClick:u,variant:"outline",className:"mt-4 w-full flex items-center gap-2",children:[(0,a.jsx)(et.Z,{className:"w-4 h-4"})," Logout"]})]})]})}var eK=t(1101),eW=t(3926),eX=t(1217),e$=t(257);function e0(e){var s,t,l,i,n,o;let{selectedCourse:d,lectureNumber:c,setLectureNumber:u,lectureDate:m,setLectureDate:x,handleFileUpload:h,handleGenerateContent:p,pendingAudioFile:j,pendingVideoFile:v}=e,[y,N]=r.useState(!1),w=!!((null===(s=d.materials)||void 0===s?void 0:s.audio)&&(null===(t=d.materials)||void 0===t?void 0:t.video)&&c&&m),C=async()=>{if(w)try{if(N(!0),!j||!v){alert("Please choose both audio and video files.");return}async function e(e,s){let t=await fetch("/api/upload/init",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({courseId:d.id,lectureNumber:c,lectureDate:m,kind:e,filename:s.name,type:s.type})});if(!t.ok){let e=await t.json().catch(()=>({}));throw Error(e.error||"Failed to initialize upload")}return t.json()}async function s(e,s){if(!(await fetch(e,{method:"PUT",headers:{"Content-Type":s.type},body:s})).ok)throw Error("Upload to GCS failed")}let[t,a]=await Promise.all([e("audio",j),e("video",v)]);await Promise.all([s(t.uploadUrl,j),s(a.uploadUrl,v)]);let r={audioUrl:"https://storage.googleapis.com/".concat(e$.env.NEXT_PUBLIC_GCS_BUCKET_NAME||"","/").concat(encodeURI(t.destinationPath)),videoUrl:"https://storage.googleapis.com/".concat(e$.env.NEXT_PUBLIC_GCS_BUCKET_NAME||"","/").concat(encodeURI(a.destinationPath))},l=new CustomEvent("gcs-upload-completed",{detail:{audioUrl:r.audioUrl,videoUrl:r.videoUrl}});window.dispatchEvent(l),alert("✅ Files uploaded to cloud successfully.");let i=d.id,n=Number(c),o=null;try{let e=(await L(i)).find(e=>e.number===n);o=e?e.id:(await U({topic:"Lecture ".concat(n),date:m,number:n,courseId:i})).id}catch(e){console.error("Failed ensuring lecture exists:",e)}if(o)try{let e=await B({lectureId:o,audioFile:r.audioUrl,videoFile:r.videoUrl});await O(e.id,"processing")}catch(e){console.error("Failed creating or updating lecture processing row:",e)}}catch(e){alert(e.message||"Upload failed")}finally{N(!1)}};return(0,a.jsxs)(f,{className:"p-8 shadow-md border border-gray-200 bg-white rounded-2xl",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-center text-purple-700",children:"Generate Lecture Content"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center p-6 border rounded-lg hover:shadow-lg transition-all",children:[(0,a.jsx)(eK.Z,{className:"w-8 h-8 mb-3 text-blue-600"}),(0,a.jsx)("h3",{className:"font-medium mb-2",children:"Upload Audio"}),(0,a.jsx)("input",{type:"file",accept:"audio/*",className:"hidden",id:"upload-audio",onChange:e=>h(e,"audio")}),(0,a.jsx)(g,{variant:"outline",className:"bg-blue-50 hover:bg-blue-100",onClick:()=>{var e;return null===(e=document.getElementById("upload-audio"))||void 0===e?void 0:e.click()},children:"Choose File"}),(null===(l=d.materials)||void 0===l?void 0:l.audio)&&(0,a.jsxs)("div",{className:"mt-4 w-full",children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-gray-600 mb-1",children:"Current:"}),(0,a.jsxs)("p",{className:"text-xs text-gray-700 truncate",children:["\uD83C\uDFB5 ",d.materials.audio]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center p-6 border rounded-lg hover:shadow-lg transition-all",children:[(0,a.jsx)(eW.Z,{className:"w-8 h-8 mb-3 text-green-600"}),(0,a.jsx)("h3",{className:"font-medium mb-2",children:"Upload Video"}),(0,a.jsx)("input",{type:"file",accept:"video/*",className:"hidden",id:"upload-video",onChange:e=>h(e,"video")}),(0,a.jsx)(g,{variant:"outline",className:"bg-green-50 hover:bg-green-100",onClick:()=>{var e;return null===(e=document.getElementById("upload-video"))||void 0===e?void 0:e.click()},children:"Choose File"}),(null===(i=d.materials)||void 0===i?void 0:i.video)&&(0,a.jsxs)("div",{className:"mt-4 w-full",children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-gray-600 mb-1",children:"Current:"}),(0,a.jsxs)("p",{className:"text-xs text-gray-700 truncate",children:["\uD83C\uDFAC ",d.materials.video]})]})]})]}),(null===(n=d.materials)||void 0===n?void 0:n.audio)&&(null===(o=d.materials)||void 0===o?void 0:o.video)&&(0,a.jsxs)("div",{className:"border-t pt-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-center mb-4 text-gray-700",children:"Upload to Cloud"}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[(0,a.jsx)(eX.Z,{className:"text-purple-600"}),(0,a.jsx)(b,{type:"number",placeholder:"Lecture Number",value:c,onChange:e=>u(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[(0,a.jsx)(em.Z,{className:"text-purple-600"}),(0,a.jsx)(b,{type:"date",value:m,onChange:e=>x(e.target.value)})]}),(0,a.jsx)(g,{onClick:C,disabled:!w||y,className:"bg-purple-600 hover:bg-purple-700 text-white px-6",children:y?"Processing...":"Process Lecture Content"})]})]})]})}var e2=t(7689);function e1(e){let{selectedSlideFile:s,slideLectureNumber:t,setSlideLectureNumber:r,slideDate:l,setSlideDate:i,handleFileUpload:n,handleSlideUpload:o,isUploading:d=!1}=e;return(0,a.jsxs)(f,{className:"p-8 shadow-md border border-gray-200 bg-white rounded-2xl",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-center text-purple-700",children:"Upload Slides and Books"}),(0,a.jsxs)("div",{className:"flex flex-col items-center p-6 border rounded-lg hover:shadow-lg transition-all max-w-md mx-auto",children:[(0,a.jsx)(e2.Z,{className:"w-8 h-8 mb-3 text-purple-600"}),(0,a.jsx)("h3",{className:"font-medium mb-2",children:"Upload Slides and Books"}),(0,a.jsx)("input",{type:"file",accept:".pdf,.ppt,.pptx",className:"hidden",id:"upload-slides",onChange:e=>n(e,"slides")}),(0,a.jsx)(g,{variant:"outline",className:"bg-purple-50 hover:bg-purple-100",onClick:()=>{var e;return null===(e=document.getElementById("upload-slides"))||void 0===e?void 0:e.click()},children:"Choose File"}),s&&(0,a.jsxs)("div",{className:"mt-4 w-full space-y-3",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-700 font-medium",children:["Selected: ",s.name]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Lecture Number"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eX.Z,{className:"text-purple-600 w-4 h-4"}),(0,a.jsx)(b,{type:"number",placeholder:"Enter lecture number",value:t,onChange:e=>r(e.target.value)})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Date"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(em.Z,{className:"text-purple-600 w-4 h-4"}),(0,a.jsx)(b,{type:"date",value:l,onChange:e=>i(e.target.value)})]})]}),(0,a.jsx)(g,{onClick:o,disabled:d,className:"w-full bg-purple-600 hover:bg-purple-700 text-white disabled:opacity-80 disabled:cursor-not-allowed",children:d?(0,a.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)("span",{className:"inline-block h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Uploading..."]}):"Upload Slide and Books"})]})]})]})}function e4(e){let{doubts:s,courses:t,handleReply:r}=e;return(0,a.jsxs)(f,{className:"p-8 shadow-md border border-gray-200 bg-white rounded-2xl",children:[(0,a.jsxs)("h2",{className:"text-2xl font-semibold mb-6 text-center text-purple-700 flex items-center justify-center gap-2",children:[(0,a.jsx)(eO.Z,{className:"w-6 h-6 text-purple-600"})," Student Doubts"]}),0===s.length?(0,a.jsx)("p",{className:"text-center text-gray-500",children:"No doubts asked yet."}):(0,a.jsx)("div",{className:"space-y-4",children:s.map(e=>{let s=t.find(s=>s.id===e.courseId);return(0,a.jsxs)("div",{className:"border rounded-lg p-4 hover:shadow-sm transition-all bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("p",{className:"font-semibold text-purple-700",children:"Anonymous Student"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.date})]}),(0,a.jsx)("p",{className:"text-gray-800 mb-1",children:e.question}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 italic",children:["Course: ",s?s.courseName:"Unknown"]}),(0,a.jsx)("div",{className:"mt-3",children:e.reply?(0,a.jsxs)("p",{className:"text-green-700 bg-green-50 p-2 rounded-md",children:[(0,a.jsx)("strong",{children:"Reply:"})," ",e.reply]}):(0,a.jsx)(g,{size:"sm",onClick:()=>r(e.id),className:"mt-2 bg-purple-600 hover:bg-purple-700 text-white",children:"Reply"})})]},e.id)})})]})}function e5(e){let{courseId:s}=e,[t,l]=(0,r.useState)([]),[i,n]=(0,r.useState)([]),[o,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{async function e(){try{d(!0);let e=await L(s);l(e);let t=await Promise.all(e.map(async e=>await R(e.id)));n(t.filter(Boolean))}catch(e){console.error("Error fetching lecture processing data:",e)}finally{d(!1)}}s&&e()},[s]);let c=e=>{switch(e){case"uploading":return"bg-blue-100 text-blue-800";case"processing":return"bg-yellow-100 text-yellow-800";case"generating":return"bg-purple-100 text-purple-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},u=e=>{switch(e){case"uploading":return"send to server processing will start soon";case"processing":return"Processing in Pipeline";case"generating":return"Generating Content";case"completed":return"Pushed on Website";default:return e}},m=async e=>{try{let s=await B({lectureId:e,audioFile:"sample_audio.mp3",videoFile:"sample_video.mp4"});n(e=>[...e,s])}catch(e){console.error("Error creating new processing:",e)}};return o?(0,a.jsx)(f,{className:"p-6 shadow-md",children:(0,a.jsxs)("div",{className:"animate-pulse flex flex-col space-y-4",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})]})}):(0,a.jsxs)(f,{className:"p-8 shadow-md border border-gray-200 bg-white rounded-2xl",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-center text-purple-700",children:"Lecture Processing Status"}),0===i.length?(0,a.jsxs)("div",{className:"text-center py-6",children:[(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"No lectures are currently being processed."}),t.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"font-medium",children:"Start processing for a lecture:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 justify-center",children:t.map(e=>(0,a.jsxs)(g,{variant:"outline",className:"bg-purple-50 hover:bg-purple-100",onClick:()=>m(e.id),children:["Lecture ",e.number]},e.id))})]})]}):(0,a.jsx)("div",{className:"space-y-4",children:i.map(e=>{let s=t.find(s=>s.id===e.lectureId);return(0,a.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50 hover:shadow-sm transition-all",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,a.jsx)("h3",{className:"font-semibold text-purple-700",children:s?"Lecture ".concat(s.number):"Unknown Lecture"}),(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(c(e.status)),children:u(e.status)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm mb-3",children:[e.audioFile&&(0,a.jsxs)("p",{className:"text-gray-700",children:["\uD83C\uDFB5 Audio: ",e.audioFile]}),e.videoFile&&(0,a.jsxs)("p",{className:"text-gray-700",children:["\uD83C\uDFAC Video: ",e.videoFile]})]}),(0,a.jsx)("div",{className:"flex justify-between items-center",children:(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Updated: ",new Date(e.updatedAt).toLocaleString()]})})]},e.id)})})]})}function e6(e){var s,t;let{courseId:l}=e,[i,n]=(0,r.useState)([]),[o,d]=(0,r.useState)({}),[c,u]=(0,r.useState)(!0),[m,x]=(0,r.useState)(null),[h,p]=(0,r.useState)({lectureId:"",fileName:"",filePath:""}),[j,y]=(0,r.useState)(!1);(0,r.useEffect)(()=>{async function e(){try{u(!0);let e=await L(l);n(e);let s={};await Promise.all(e.map(async e=>{let t=await V(e.id);s[e.id]=t})),d(s),e.length>0&&!m&&(x(e[0].id),p(s=>({...s,lectureId:e[0].id})))}catch(e){console.error("Error fetching slides data:",e)}finally{u(!1)}}l&&e()},[l,m]);let N=e=>{x(e),p(s=>({...s,lectureId:e}))},w=async e=>{e.preventDefault();try{let e=await Y({lectureId:h.lectureId,fileName:h.fileName||"slide_".concat(Date.now(),".pdf"),filePath:h.filePath||"/uploads/slides/".concat(Date.now(),".pdf")});d(s=>({...s,[h.lectureId]:[...s[h.lectureId]||[],e]})),p({lectureId:m||"",fileName:"",filePath:""}),y(!1)}catch(e){console.error("Error uploading slide:",e)}};return c?(0,a.jsx)(f,{className:"p-6 shadow-md",children:(0,a.jsxs)("div",{className:"animate-pulse flex flex-col space-y-4",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})]})}):(0,a.jsxs)(f,{className:"p-8 shadow-md border border-gray-200 bg-white rounded-2xl",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-center text-blue-700",children:"Slides Management"}),0===i.length?(0,a.jsx)("div",{className:"text-center py-6",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No lectures available for this course."})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)(v,{htmlFor:"lecture-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Lecture"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:i.map(e=>(0,a.jsxs)(g,{type:"button",variant:m===e.id?"default":"outline",className:m===e.id?"bg-blue-600":"bg-blue-50 hover:bg-blue-100",onClick:()=>N(e.id),children:["Lecture ",e.number]},e.id))})]}),m&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-blue-700",children:(null===(s=i.find(e=>e.id===m))||void 0===s?void 0:s.topic)||"Lecture Slides"}),(0,a.jsx)(g,{onClick:()=>y(!j),className:"bg-blue-600 hover:bg-blue-700 text-white",children:j?"Cancel":"Add More Slides"})]}),j&&(0,a.jsx)("form",{onSubmit:w,className:"mb-6 p-4 border rounded-lg bg-white",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(v,{htmlFor:"file-upload",className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload Slide (PDF)"}),(0,a.jsx)(b,{id:"file-upload",type:"file",accept:".pdf",className:"w-full",onChange:e=>{var s;let t=null===(s=e.target.files)||void 0===s?void 0:s[0];t&&p(e=>({...e,fileName:t.name,filePath:"/uploads/slides/".concat(t.name)}))}})]}),(0,a.jsx)(g,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Upload Slide"})]})}),(0,a.jsx)("div",{className:"space-y-2",children:(null===(t=o[m])||void 0===t?void 0:t.length)>0?o[m].map((e,s)=>(0,a.jsxs)("div",{className:"flex justify-between items-center p-3 bg-white rounded border hover:shadow-sm transition-all",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("span",{className:"text-blue-600 font-medium",children:["#",s+1]}),(0,a.jsx)("span",{className:"text-gray-700",children:e.fileName})]}),(0,a.jsx)("div",{className:"flex space-x-2",children:(0,a.jsx)(g,{size:"sm",variant:"outline",className:"text-blue-600 border-blue-200 hover:bg-blue-50",onClick:()=>{alert("Viewing slide: ".concat(e.fileName))},children:"View"})})]},e.id)):(0,a.jsx)("p",{className:"text-center py-4 text-gray-500",children:"No slides uploaded for this lecture yet."})})]})})]})]})}function e3(e){var s;let{onLogout:t}=e,[l,i]=(0,r.useState)([]),[n,o]=(0,r.useState)([]),[d,c]=(0,r.useState)(null),[u,m]=(0,r.useState)("courses"),[x,h]=(0,r.useState)(!1),[p,b]=(0,r.useState)(!1),[j,v]=(0,r.useState)(!0),[y,N]=(0,r.useState)(""),[w,C]=(0,r.useState)(""),[k,S]=(0,r.useState)(null),[_,I]=(0,r.useState)(null),[E,D]=(0,r.useState)(null),[z,P]=(0,r.useState)(""),[A,Z]=(0,r.useState)(""),[L,U]=(0,r.useState)(!1),[T,M]=(0,r.useState)({courseName:"",courseCode:"",semester:"",academicYear:""});(0,r.useEffect)(()=>{!async function(){try{let e=(await F()).map(e=>({id:e.id,courseName:e.name,courseCode:e.code,name:e.name,code:e.code,professor:e.professor,semester:"odd",academicYear:"2025-26",materials:{slides:[],audio:null,video:null,generatedContent:[]}}));i(e);let s=await G();o(s)}catch(e){console.error("Error loading data:",e)}finally{v(!1)}}()},[]);let R=e=>{M({...T,[e.target.name]:e.target.value})},B=async e=>{if(e.preventDefault(),!T.courseName||!T.courseCode||!T.semester||!T.academicYear){alert("Please fill all fields.");return}try{let e="c".concat(Date.now());await q({id:e,code:T.courseCode,name:T.courseName,professor:"Dr. Professor"});let s={id:e,courseName:T.courseName,courseCode:T.courseCode,name:T.courseName,code:T.courseCode,professor:"Dr. Professor",semester:T.semester,academicYear:T.academicYear,materials:{slides:[],audio:null,video:null,generatedContent:[]}};i([...l,s]),h(!1),c(s.id),M({courseName:"",courseCode:"",semester:"",academicYear:""})}catch(e){console.error("Error creating course:",e),alert("Failed to create course")}},O=l.find(e=>e.id===d),V=(e,s)=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(a&&d){if("slides"===s){D(a),e.target.value="";return}i(l.map(e=>{if(e.id!==d)return e;let t={...e.materials};return"audio"===s?(t.audio=a.name,S(a)):"video"===s&&(t.video=a.name,I(a)),{...e,materials:t}})),e.target.value=""}},Y=async()=>{if(!E||!d||!z||!A){alert("Please fill all fields before uploading.");return}try{U(!0);let e=new FormData;e.append("file",E),e.append("courseId",d),e.append("lectureNumber",z),e.append("date",A);let s=await fetch("/api/upload/slides",{method:"POST",body:e});if(!s.ok)throw Error((await s.json()).error||"Slide upload failed");let t=(await s.json()).url,a=l.map(e=>{if(e.id!==d)return e;let s={...e.materials};return s.slides.push({name:E.name,lectureNumber:z,date:A,url:t}),{...e,materials:s}});i(a),D(null),P(""),Z(""),alert("✅ Slide uploaded to cloud!")}catch(e){alert((null==e?void 0:e.message)||"Slide upload failed")}finally{U(!1)}},J=async e=>{let s=prompt("Enter your reply:");if(s)try{await H(e,s);let t=n.map(t=>t.id===e?{...t,reply:s}:t);o(t)}catch(e){console.error("Error replying to doubt:",e),alert("Failed to reply to doubt")}};return(r.useEffect(()=>{function e(e){let{audioUrl:s,videoUrl:t}=e.detail||{};s&&t&&d&&i(l.map(e=>{if(e.id!==d)return e;let a={...e.materials};return a.audio=s,a.video=t,{...e,materials:a}}))}return window.addEventListener("gcs-upload-completed",e),()=>window.removeEventListener("gcs-upload-completed",e)},[l,d]),j)?(0,a.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):(0,a.jsxs)("div",{className:"flex min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50",children:[(0,a.jsx)("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:(0,a.jsx)(g,{variant:"outline",onClick:()=>b(!p),className:"p-2",children:p?(0,a.jsx)(K.Z,{className:"w-5 h-5"}):(0,a.jsx)(eJ.Z,{className:"w-5 h-5"})})}),(0,a.jsx)(eQ,{view:u,setView:m,courses:l,selectedCourseId:d,setSelectedCourseId:c,setIsAddingCourse:h,sidebarOpen:p,setSidebarOpen:b,onLogout:t}),(0,a.jsxs)("div",{className:"flex-1 p-4 sm:p-8 lg:p-10 overflow-y-auto",children:["courses"===u&&!O&&!x&&(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)(f,{className:"p-12 shadow-md border border-gray-200 bg-white rounded-2xl text-center max-w-md",children:(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("svg",{className:"w-10 h-10 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-3",children:"No Course Selected"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Please select a course from the sidebar or add a new course to get started."})]})})}),"courses"===u&&O&&!x&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(e0,{selectedCourse:O,lectureNumber:y,setLectureNumber:N,lectureDate:w,setLectureDate:C,handleFileUpload:V,handleGenerateContent:()=>{var e,s;if(!y||!w){alert("Please enter lecture number and date before generating content.");return}if(!(null==O?void 0:null===(e=O.materials)||void 0===e?void 0:e.audio)||!(null==O?void 0:null===(s=O.materials)||void 0===s?void 0:s.video)){alert("Please upload both audio and video files first.");return}i(l.map(e=>{if(e.id!==d)return e;let s={...e.materials};return s.generatedContent.push({lectureNumber:y,date:w,audioFile:s.audio,videoFile:s.video}),s.audio=null,s.video=null,{...e,materials:s}})),N(""),C(""),alert("✅ Content generated for Lecture ".concat(y," on ").concat(w))},pendingAudioFile:k,pendingVideoFile:_}),d&&(0,a.jsx)(e5,{courseId:d}),(null===(s=O.materials)||void 0===s?void 0:s.generatedContent)&&O.materials.generatedContent.length>0&&(0,a.jsxs)(f,{className:"p-8 shadow-md border border-gray-200 bg-white rounded-2xl",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-center text-purple-700",children:"Previous Lectures"}),(0,a.jsx)("div",{className:"space-y-4",children:O.materials.generatedContent.map((e,s)=>(0,a.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50 hover:shadow-sm transition-all",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsxs)("h3",{className:"font-semibold text-purple-700",children:["Lecture ",e.lectureNumber]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.date})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[(0,a.jsxs)("p",{className:"text-gray-700",children:["\uD83C\uDFB5 Audio: ",e.audioFile]}),(0,a.jsxs)("p",{className:"text-gray-700",children:["\uD83C\uDFAC Video: ",e.videoFile]})]})]},s))})]}),(0,a.jsx)(e1,{selectedSlideFile:E,slideLectureNumber:z,setSlideLectureNumber:P,slideDate:A,setSlideDate:Z,handleFileUpload:V,handleSlideUpload:Y,isUploading:L}),d&&(0,a.jsx)(e6,{courseId:d})]}),"courses"===u&&x&&(0,a.jsxs)(f,{className:"p-8 shadow-md border border-gray-200 bg-white rounded-2xl max-w-md mx-auto",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-center text-purple-700",children:"Add New Course"}),(0,a.jsxs)("form",{onSubmit:B,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course Name"}),(0,a.jsx)("input",{type:"text",name:"courseName",value:T.courseName,onChange:R,className:"w-full p-2 border rounded-md",placeholder:"e.g. Data Structures",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course Code"}),(0,a.jsx)("input",{type:"text",name:"courseCode",value:T.courseCode,onChange:R,className:"w-full p-2 border rounded-md",placeholder:"e.g. CS101",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Semester"}),(0,a.jsxs)("select",{name:"semester",value:T.semester,onChange:R,className:"w-full p-2 border rounded-md",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Semester"}),(0,a.jsx)("option",{value:"odd",children:"Odd Semester"}),(0,a.jsx)("option",{value:"even",children:"Even Semester"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Academic Year"}),(0,a.jsx)("input",{type:"text",name:"academicYear",value:T.academicYear,onChange:R,className:"w-full p-2 border rounded-md",placeholder:"e.g. 2023-24",required:!0})]}),(0,a.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,a.jsx)(g,{type:"button",variant:"outline",className:"flex-1",onClick:()=>h(!1),children:"Cancel"}),(0,a.jsx)(g,{type:"submit",className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white",children:"Add Course"})]})]})]}),"doubts"===u&&(0,a.jsx)(e4,{doubts:n,courses:l,handleReply:J})]})]})}function e7(){let[e,s]=(0,r.useState)(!1),[t,l]=(0,r.useState)(null),[i,n]=(0,r.useState)(""),o=()=>{s(!1),l(null),n("")};return e?"student"===t?(0,a.jsx)(eH,{onLogout:o}):"professor"===t?(0,a.jsx)(e3,{onLogout:o}):void 0:(0,a.jsx)(Q,{onLogin:(e,t)=>{l(e),n(t),s(!0)}})}}},function(e){e.O(0,[536,971,117,744],function(){return e(e.s=6399)}),_N_E=e.O()}]);